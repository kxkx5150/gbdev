<!DOCTYPE html>
<!-- saved from url=(0053)https://eldred.fr/gb-asm-tutorial/part1/assembly.html -->
<html lang="en" class="js sidebar-visible light"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <!-- Book generated using mdBook -->
        
        <title>Assembly basics - GB ASM Tutorial</title>


        <!-- Custom HTML head -->
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:site:id" content="@issotm">
        <meta property="og:title" content="Assembly basics - GB ASM Tutorial">
        <meta property="og:image" content="https://eldred.fr/gb-asm-tutorial/assets/banner/1200x628.png">
        <meta property="og:site_name" content="GB ASM Tutorial">

        
        <meta name="description" content="A complete guide to programming Game Boy games in assembly.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="rgba(0, 0, 0, 0)">

        <link rel="icon" href="https://eldred.fr/gb-asm-tutorial/favicon.svg">
        <link rel="shortcut icon" href="https://eldred.fr/gb-asm-tutorial/favicon.png">
        <link rel="stylesheet" href="./asm_files/variables.css">
        <link rel="stylesheet" href="./asm_files/general.css">
        <link rel="stylesheet" href="./asm_files/chrome.css">
        <link rel="stylesheet" href="./asm_files/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="./asm_files/font-awesome.css">
        <link rel="stylesheet" href="./asm_files/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="./asm_files/highlight.css">
        <link rel="stylesheet" href="./asm_files/tomorrow-night.css" disabled="">
        <link rel="stylesheet" href="./asm_files/ayu-highlight.css" disabled="">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="./asm_files/custom.css">

    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents" aria-hidden="false">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item affix "><a href="https://eldred.fr/gb-asm-tutorial/index.html" tabindex="0" data-dl-uid="0" data-dl-original="true" data-dl-translated="true">ãƒ›ãƒ¼ãƒ </a></li><li class="chapter-item affix "><a href="https://eldred.fr/gb-asm-tutorial/roadmap.html" tabindex="0" data-dl-uid="1" data-dl-original="true" data-dl-translated="true">ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—</a></li><li class="chapter-item affix "><a href="https://eldred.fr/gb-asm-tutorial/help-feedback.html" tabindex="0" data-dl-uid="2" data-dl-original="true" data-dl-translated="true">ãƒ˜ãƒ«ãƒ—ã¨ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯</a></li><li class="chapter-item affix "></li><li class="part-title" data-dl-uid="3" data-dl-original="true" data-dl-translated="true">Part.I - Hello World!</li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/setup.html" tabindex="0" data-dl-uid="4" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="5" data-dl-original="true" data-dl-translated="true">1.</strong>ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/hello_world.html" tabindex="0" data-dl-uid="6" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="7" data-dl-original="true" data-dl-translated="true">2.</strong>Hello World!</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/toolchain.html" tabindex="0" data-dl-uid="8" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="9" data-dl-original="true" data-dl-translated="true">3.</strong>ãƒ„ãƒ¼ãƒ«ãƒã‚§ã‚¤ãƒ³</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/bin_and_hex.html" tabindex="0" data-dl-uid="10" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="11" data-dl-original="true" data-dl-translated="true">4.</strong>2é€²æ•°ã€16é€²æ•°</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/registers.html" tabindex="0" data-dl-uid="12" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="13" data-dl-original="true" data-dl-translated="true">5.</strong>ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ¼</a></li><li class="chapter-item expanded "><a href="https://eldred.fr/gb-asm-tutorial/part1/assembly.html" class="active" tabindex="0" data-dl-uid="14" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="15" data-dl-original="true" data-dl-translated="true">6.</strong>çµ„ç«‹ã®åŸºæœ¬</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/memory.html" tabindex="0" data-dl-uid="16" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="17" data-dl-original="true" data-dl-translated="true">7.</strong>ãƒ¡ãƒ¢ãƒª</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/header.html" tabindex="0" data-dl-uid="18" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="19" data-dl-original="true" data-dl-translated="true">8.</strong>ãƒ˜ãƒƒãƒ€ãƒ¼</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/operations.html" tabindex="0" data-dl-uid="20" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="21" data-dl-original="true" data-dl-translated="true">9.</strong>ã‚ªãƒšãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼†ãƒ•ãƒ©ãƒƒã‚°</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/jumps.html" tabindex="0" data-dl-uid="22" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="23" data-dl-original="true" data-dl-translated="true">10.</strong>ã‚¸ãƒ£ãƒ³ãƒ—</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/tracing.html" tabindex="0" data-dl-uid="24" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="25" data-dl-original="true" data-dl-translated="true">11.</strong>ãƒˆãƒ¬ãƒ¼ã‚¹</a></li><li class="chapter-item "><div data-dl-uid="26" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="27" data-dl-original="true" data-dl-translated="true">12.</strong>ã‚°ãƒ©ãƒ•ã‚£ãƒƒã‚¯ã‚¹</div><a class="toggle" tabindex="0"><div data-dl-uid="28" data-dl-original="true" data-dl-translated="true">â±</div></a></li><li><ol class="section"><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/tiles.html" tabindex="0"><strong aria-hidden="true">12.1.</strong> Tiles</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/palettes.html" tabindex="0"><strong aria-hidden="true">12.2.</strong> Palettes</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/tilemap.html" tabindex="0"><strong aria-hidden="true">12.3.</strong> Tilemap</a></li></ol></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part1/wrapup.html" tabindex="0" data-dl-uid="29" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="30" data-dl-original="true" data-dl-translated="true">13.</strong>ã¾ã¨ã‚</a></li><li class="chapter-item affix "></li><li class="part-title" data-dl-uid="31" data-dl-original="true" data-dl-translated="true">Part II - åˆã‚ã¦ã®ã‚²ãƒ¼ãƒ </li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part2/getting-started.html" tabindex="0" data-dl-uid="32" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="33" data-dl-original="true" data-dl-translated="true">14.</strong>ã¯ã˜ã‚ã«</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part2/objects.html" tabindex="0" data-dl-uid="34" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="35" data-dl-original="true" data-dl-translated="true">15.</strong>å¯¾è±¡ç‰©</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part2/functions.html" tabindex="0" data-dl-uid="36" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="37" data-dl-original="true" data-dl-translated="true">16.</strong>æ©Ÿèƒ½ä¸€è¦§</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part2/input.html" tabindex="0" data-dl-uid="38" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="39" data-dl-original="true" data-dl-translated="true">17.</strong>å…¥åŠ›</a></li><li class="chapter-item "><a href="https://eldred.fr/gb-asm-tutorial/part2/wip.html" tabindex="0" data-dl-uid="40" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="41" data-dl-original="true" data-dl-translated="true">18.</strong>é€²è¡Œä¸­ã®ä»•äº‹</a></li><li class="chapter-item affix "></li><li class="part-title" data-dl-uid="42" data-dl-original="true" data-dl-translated="true">ç¬¬â…¢éƒ¨ ç¬¬2è©¦åˆ</li><li class="chapter-item "><div data-dl-uid="43" data-dl-original="true" data-dl-translated="true"><strong aria-hidden="true" data-dl-uid="44" data-dl-original="true" data-dl-translated="true">19.</strong>To be written...</div></li><li class="spacer"></li><li class="chapter-item affix "><a href="https://eldred.fr/gb-asm-tutorial/next.html" tabindex="0" data-dl-uid="45" data-dl-original="true" data-dl-translated="true">æ¬¡ã«é€²ã‚€ã¹ãé“</a></li><li class="chapter-item affix "><a href="https://eldred.fr/gb-asm-tutorial/resources.html" tabindex="0" data-dl-uid="46" data-dl-original="true" data-dl-translated="true">ãƒªã‚½ãƒ¼ã‚¹</a></li><li class="chapter-item affix "><a href="https://eldred.fr/gb-asm-tutorial/thanks.html" tabindex="0" data-dl-uid="47" data-dl-original="true" data-dl-translated="true">æ„Ÿè¬</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar" style="top: 0px;">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar" aria-expanded="true">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title" data-dl-uid="48" data-dl-original="true" data-dl-translated="true">GB ASMãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</h1>

                    <div class="right-buttons">
                        <a href="https://eldred.fr/gb-asm-tutorial/print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/ISSOtm/gb-asm-tutorial" title="Git repository" aria-label="Git repository" target="_blank">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/ISSOtm/gb-asm-tutorial/edit/master/src/part1/assembly.md" title="Suggest an edit" aria-label="Suggest an edit" target="_blank">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="assembly-basics" data-dl-uid="49" data-dl-original="true" data-dl-translated="true"><a class="header" href="https://eldred.fr/gb-asm-tutorial/part1/assembly.html#assembly-basics" data-dl-uid="50" data-dl-original="true" data-dl-translated="true">ã‚¢ã‚»ãƒ³ãƒ–ãƒªã®åŸºæœ¬</a></h1>
<p data-dl-uid="51" data-dl-original="true" data-dl-translated="true">ã•ã¦ã€ãƒ„ãƒ¼ãƒ«ãŒä½•ã‚’<em data-dl-uid="52" data-dl-original="true" data-dl-translated="true">ã™ã‚‹ã‹</em>ã‚ã‹ã£ãŸã¨ã“ã‚ã§ã€RGBASMãŒã©ã‚“ãªè¨€èªã‚’è©±ã™ã‹è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚ è¡Œç•ªå·ãŒã‚ã‹ã‚‹ã‚ˆã†ã«ã€ãã—ã¦ã‚¨ãƒ‡ã‚£ã‚¿ãŒã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªãã¦ã‚‚ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ã€<code class="hljs" data-dl-uid="53" data-dl-original="true" data-dl-translated="true">hello-world.asmã®</code>æœ€åˆã®éƒ¨åˆ†ã‚’çŸ­ãåˆ‡ã‚Šå–ã‚Šã¾ã™ã€‚</p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-rgbasm linenos start=1 hljs" style="counter-reset: lineno 0;" data-dl-uid="54" data-dl-original="true" data-dl-translated="true"><span class="line" data-dl-uid="55" data-dl-original="true" data-dl-translated="true"><span class="hljs-keyword" data-dl-uid="56" data-dl-original="true" data-dl-translated="true">INCLUDE</span> <span class="hljs-string" data-dl-uid="57" data-dl-original="true" data-dl-translated="true">"hardware.inc"</span></span><span class="line" data-dl-uid="58" data-dl-original="true" data-dl-translated="true">
</span><span class="line" data-dl-uid="59" data-dl-original="true" data-dl-translated="true"><span class="hljs-keyword" data-dl-uid="60" data-dl-original="true" data-dl-translated="true">SECTION</span> <span class="hljs-string" data-dl-uid="61" data-dl-original="true" data-dl-translated="true">"Header"</span><span class="hljs-punctuation" data-dl-uid="62" data-dl-original="true" data-dl-translated="true">,</span> <span class="hljs-type" data-dl-uid="63" data-dl-original="true" data-dl-translated="true">ROM0</span><span class="hljs-punctuation" data-dl-uid="64" data-dl-original="true" data-dl-translated="true">[</span><span class="hljs-number" data-dl-uid="65" data-dl-original="true" data-dl-translated="true">$100</span><span class="hljs-punctuation" data-dl-uid="66" data-dl-original="true" data-dl-translated="true">]</span></span><span class="line" data-dl-uid="67" data-dl-original="true" data-dl-translated="true">
</span><span class="line" data-dl-uid="68" data-dl-original="true" data-dl-translated="true"> <span class="hljs-keyword" data-dl-uid="69" data-dl-original="true" data-dl-translated="true">jp</span>EntryPoint</span><span class="line" data-dl-uid="70" data-dl-original="true" data-dl-translated="true">
</span><span class="line" data-dl-uid="71" data-dl-original="true" data-dl-translated="true"> <span class="hljs-keyword" data-dl-uid="72" data-dl-original="true" data-dl-translated="true">ds</span> <span class="hljs-number" data-dl-uid="73" data-dl-original="true" data-dl-translated="true">$150</span> <span class="hljs-operator" data-dl-uid="74" data-dl-original="true" data-dl-translated="true">-</span>@<span class="hljs-punctuation" data-dl-uid="75" data-dl-original="true" data-dl-translated="true">,</span> <span class="hljs-number" data-dl-uid="76" data-dl-original="true" data-dl-translated="true">0</span> <span class="hljs-comment" data-dl-uid="77" data-dl-original="true" data-dl-translated="true">; ãƒ˜ãƒƒãƒ€ã®ãŸã‚ã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’ç¢ºä¿</span></span><span class="line" data-dl-uid="78" data-dl-original="true" data-dl-translated="true">
</span><span class="line" data-dl-uid="79" data-dl-original="true" data-dl-translated="true"><span class="hljs-symbol" data-dl-uid="80" data-dl-original="true" data-dl-translated="true">EntryPoint</span><span class="hljs-punctuation" data-dl-uid="81" data-dl-original="true" data-dl-translated="true">:</span></span><span class="line" data-dl-uid="82" data-dl-original="true" data-dl-translated="true"> <span class="hljs-comment" data-dl-uid="83" data-dl-original="true" data-dl-translated="true">; ã‚ªãƒ¼ãƒ‡ã‚£ã‚ªå›è·¯ã‚’ã‚·ãƒ£ãƒƒãƒˆãƒ€ã‚¦ãƒ³</span></span><span class="line" data-dl-uid="84" data-dl-original="true" data-dl-translated="true"> <span class="hljs-keyword" data-dl-uid="85" data-dl-original="true" data-dl-translated="true">ld</span> <span class="hljs-variable" data-dl-uid="86" data-dl-original="true" data-dl-translated="true">a</span><span class="hljs-punctuation" data-dl-uid="87" data-dl-original="true" data-dl-translated="true">,</span> <span class="hljs-number" data-dl-uid="88" data-dl-original="true" data-dl-translated="true">0</span></span><span class="line" data-dl-uid="89" data-dl-original="true" data-dl-translated="true"> <span class="hljs-keyword" data-dl-uid="90" data-dl-original="true" data-dl-translated="true">ld</span> <span class="hljs-punctuation" data-dl-uid="91" data-dl-original="true" data-dl-translated="true">[rNR52</span><span class="hljs-punctuation" data-dl-uid="92" data-dl-original="true" data-dl-translated="true">]</span><span class="hljs-punctuation" data-dl-uid="93" data-dl-original="true" data-dl-translated="true">,</span> <span class="hljs-variable" data-dl-uid="94" data-dl-original="true" data-dl-translated="true">a</span></span></code></pre>
<p data-dl-uid="95" data-dl-original="true" data-dl-translated="true">RGBASMã®<em data-dl-uid="96" data-dl-original="true" data-dl-translated="true">å¤šãã®</em>æ©Ÿèƒ½ã‚’ç„¡è¦–ã™ã‚‹ã“ã¨ã«ãªã‚‹ã®ã§ã€ã‚‚ã£ã¨çŸ¥ã‚ŠãŸã„äººã¯ãƒ‘ãƒ¼ãƒˆIIã¨IIIã¾ã§å¾…ã¤ã‹ã€<a href="https://rgbds.gbdev.io/docs" target="_blank" data-dl-uid="97" data-dl-original="true" data-dl-translated="true">ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’</a>èª­ã‚“ã§ãã ã•ã„ã€‚</p>
<h2 id="comments" data-dl-uid="98" data-dl-original="true" data-dl-translated="true"><a class="header" href="https://eldred.fr/gb-asm-tutorial/part1/assembly.html#comments" data-dl-uid="99" data-dl-original="true" data-dl-translated="true">ã‚³ãƒ¡ãƒ³ãƒˆ</a></h2>
<p data-dl-uid="100" data-dl-original="true" data-dl-translated="true">ã¾ãš10è¡Œç›®ã‹ã‚‰å§‹ã‚ã¾ã™ãŒã€ä¸Šã§ã¯ç°è‰²ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã™ã€‚ ã‚»ãƒŸã‚³ãƒ­ãƒ³<code class="hljs" data-dl-uid="101" data-dl-original="true" data-dl-translated="true">;</code>ã¯<em data-dl-uid="102" data-dl-original="true" data-dl-translated="true">ã‚³ãƒ¡ãƒ³ãƒˆã‚’</em>è¡¨ã—ã¾ã™ã€‚ ã‚»ãƒŸã‚³ãƒ­ãƒ³ã‹ã‚‰è¡Œæœ«ã¾ã§ã¯RGBASMã§ã¯<em data-dl-uid="103" data-dl-original="true" data-dl-translated="true">ç„¡è¦–</em>ã•ã‚Œã¾ã™ã€‚ 7è¡Œç›®ã§ã‚ã‹ã‚‹ã‚ˆã†ã«ã€ã‚³ãƒ¡ãƒ³ãƒˆã¯ä»–ã®ç©ºã®è¡Œã«ã‚ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
<p data-dl-uid="104" data-dl-original="true" data-dl-translated="true">ã‚³ãƒ¡ãƒ³ãƒˆã¯ã€å„ªã‚ŒãŸãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªã®å®šç•ªã§ã™ã€‚ ã‚³ãƒ¼ãƒ‰ãŒä½•ã‚’ã—ã¦ã„ã‚‹ã®ã‹ã€æ–‡è„ˆã‚’ç¤ºã™ã®ã«ä¾¿åˆ©ã§ã™ã€‚åŸºæœ¬çš„ã«ã¯ã€ã€Œã‚ªãƒ¼ãƒ–ãƒ³ã‚’180â„ƒã§äºˆç†±ã—ã¦ãã ã•ã„ã€ã¨ã€Œã‚ªãƒ¼ãƒ–ãƒ³ã‚’180â„ƒã§äºˆç†±ã—ã¦ãã ã•ã„ã€ãã‚Œä»¥ä¸Šã ã¨ã‚±ãƒ¼ã‚­ãŒç„¦ã’ã¦ã—ã¾ã„ã¾ã™ã€ã®é•ã„ã§ã™ã€‚ ã©ã‚“ãªè¨€èªã§ã‚‚ã€å„ªã‚ŒãŸã‚³ãƒ¡ãƒ³ãƒˆã¯éå¸¸ã«ä¾¿åˆ©ã§ã™ã€‚ã‚¢ã‚»ãƒ³ãƒ–ãƒªã§ã¯ã€å¤šãã®ä¸€èˆ¬çš„ãªæ„å‘³è«–ãŒä½¿ãˆãªã„ãŸã‚ã€ã‚³ãƒ¡ãƒ³ãƒˆã¯ã‚ˆã‚Šé‡è¦ãªå½¹å‰²ã‚’æ‹…ã„ã¾ã™ã€‚</p>
<h2 id="instructions" data-dl-uid="105" data-dl-original="true" data-dl-translated="true"><a class="header" href="https://eldred.fr/gb-asm-tutorial/part1/assembly.html#instructions" data-dl-uid="106" data-dl-original="true" data-dl-translated="true">å–æ‰±èª¬æ˜æ›¸</a></h2>
<p data-dl-uid="107" data-dl-original="true" data-dl-translated="true">ã‚¢ã‚»ãƒ³ãƒ–ãƒªã¯éå¸¸ã«è¡Œæ•°ã®å¤šã„è¨€èªã§ã™ã€‚ å„è¡Œã«ã¯2ã¤ã®ã†ã¡ã®1ã¤ãŒå«ã¾ã‚Œã¾ã™ã€‚</p>
<ul>
<li data-dl-uid="108" data-dl-original="true" data-dl-translated="true">RGBASMã«ä½•ã‹ã‚’æŒ‡ç¤ºã™ã‚‹<em data-dl-uid="109" data-dl-original="true" data-dl-translated="true">ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–</em>ã€ã¾ãŸã¯</li>
<li data-dl-uid="110" data-dl-original="true" data-dl-translated="true">ã¨ã„ã†<em data-dl-uid="111" data-dl-original="true" data-dl-translated="true">å‘½ä»¤</em><sup class="footnote-reference" data-dl-uid="112" data-dl-original="true" data-dl-translated="true"><a href="https://eldred.fr/gb-asm-tutorial/part1/assembly.html#instr_directive" data-dl-uid="113" data-dl-original="true" data-dl-translated="true">1ãŒ</a></sup>ã‚ã‚Šã€ã“ã‚ŒãŒç›´æ¥ROMã«æ›¸ãè¾¼ã¾ã‚Œã¾ã™ã€‚</li>
</ul>
<p data-dl-uid="114" data-dl-original="true" data-dl-translated="true">ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã«ã¤ã„ã¦ã¯å¾Œã§èª¬æ˜ã—ã¾ã™ãŒã€ä»Šã¯å‘½ä»¤ã«æ³¨ç›®ã—ã¾ã—ã‚‡ã†ã€‚ä¾‹ãˆã°ã€ä¸Šã®ã‚¹ãƒ‹ãƒšãƒƒãƒˆã§ã¯ã€1è¡Œç›®<code class="hljs" data-dl-uid="115" data-dl-original="true" data-dl-translated="true">ï¼ˆINCLUDE</code>ï¼‰ã€7è¡Œç›®<code class="hljs" data-dl-uid="116" data-dl-original="true" data-dl-translated="true">ï¼ˆds</code>ï¼‰ã€3è¡Œç›®<code class="hljs" data-dl-uid="117" data-dl-original="true" data-dl-translated="true">ï¼ˆSECTION</code>ï¼‰ã¯ç„¡è¦–ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ã‚‡ã†ã€‚</p>
<p data-dl-uid="118" data-dl-original="true" data-dl-translated="true">ã‚±ãƒ¼ã‚­ä½œã‚Šã®ä¾‹ãˆã‚’ã•ã‚‰ã«ç¶šã‘ã‚‹ã¨ã€å‘½ä»¤ã¯ãƒ¬ã‚·ãƒ”ã®æ‰‹é †ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ ã‚²ãƒ¼ãƒ æ©Ÿã®ãƒ—ãƒ­ã‚»ãƒƒã‚µ<abbr title="Central Processing Unit" data-dl-uid="119" data-dl-original="true" data-dl-translated="true">ï¼ˆCPU</abbr>ï¼‰ã¯å‘½ä»¤ã‚’ä¸€ã¤ãšã¤å®Ÿè¡Œã—ã€ãã‚ŒãŒ...æœ€çµ‚çš„ã«ä½•ã‹ã‚’ã—ã¾ã™ï¼ä¾‹ãˆã°ã‚±ãƒ¼ã‚­ã‚’ç„¼ã„ãŸã‚Šã€ã€ŒHello Worldã€ç”»åƒã‚’æã„ãŸã‚Šã€ã‚²ãƒ¼ãƒ ãƒœãƒ¼ã‚¤ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã‚’è¡¨ç¤ºã—ãŸã‚Šï¼ *wink* *wink*.</p>
<p data-dl-uid="120" data-dl-original="true" data-dl-translated="true">ä¾‹ãˆã°ã€ã€Œãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆã¨ãƒã‚¿ãƒ¼ã‚’é‹ã§æº¶ã‹ã™ã€ã¨ã„ã†å‘½ä»¤ã§ã¯ã€<em data-dl-uid="123" data-dl-original="true" data-dl-translated="true">æ–‡å…¨ä½“ãŒ</em>å‘½ä»¤ã€<em data-dl-uid="124" data-dl-original="true" data-dl-translated="true">å‹•è©ã®</em>ã€Œæº¶ã‹ã™ã€ãŒ<em data-dl-uid="121" data-dl-original="true" data-dl-translated="true">ãƒ‹ãƒ¢ãƒ‹ãƒƒã‚¯</em>ã€ã€Œãƒãƒ§ã‚³ãƒ¬ãƒ¼ãƒˆã€ã€Œãƒã‚¿ãƒ¼ã€ã€Œé‹ã€ãŒ<em data-dl-uid="122" data-dl-original="true" data-dl-translated="true">ã‚ªãƒšãƒ©ãƒ³ãƒ‰</em>ã€ã¤ã¾ã‚Šæ“ä½œã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®ã‚ˆã†ãªã‚‚ã®ã«ãªã‚Šã¾ã™ã€‚</p>
<p>Letâ€™s discuss the most fundamental instruction, <strong><code class="hljs">ld</code></strong>.
<code class="hljs">ld</code> stands for â€œLoaDâ€, and its purpose is simply to copy data from its right operand (<a href="https://en.wikipedia.org/wiki/Sides_of_an_equation" target="_blank">â€œ<abbr title="Right-Hand Side">RHS</abbr>â€</a>) into its left operand (<a href="https://en.wikipedia.org/wiki/Sides_of_an_equation" target="_blank">â€œ<abbr title="Left-Hand Side">LHS</abbr>â€</a>).
For example, take line 11â€™s <code class="hljs">ld a, 0</code>: it copies (â€œloadsâ€) the value 0 into the 8-bit register <code class="hljs">a</code><sup class="footnote-reference"><a href="https://eldred.fr/gb-asm-tutorial/part1/assembly.html#ld_imm_from">2</a></sup>.
If you look further in the file, line 33 has <code class="hljs">ld a, b</code>, which causes the value in register <code class="hljs">b</code> to be copied into register <code class="hljs">a</code>.</p>
<div class="table-wrapper"><table><thead><tr><th>Instruction</th><th>Mnemonic</th><th>Effect</th></tr></thead><tbody>
<tr><td>Load</td><td><code class="hljs">ld</code></td><td>Copies values around</td></tr>
</tbody></table>
</div>
<div class="box tip decorated">
<div><p>â„¹ï¸</p></div>
<div>
<p>Due to CPU limitations, not all operand combinations are valid for <code class="hljs">ld</code> and many other instructions; we will talk about this when writing our own code later.</p>
</div>
</div>
<div class="box tip decorated">
<div><p>ğŸ¤”</p></div>
<div>
<p>RGBDS has an <a href="https://rgbds.gbdev.io/docs/gbz80.7" target="_blank">instruction reference</a> worth bookmarking, and you can also consult it locally with <code class="hljs">man 7 gbz80</code> if RGBDS is installed on your machine (except Windowsâ€¦).
The descriptions there are more succinct, since theyâ€™re intended as reminders, not as tutorials.</p>
</div>
</div>
<h2 id="directives"><a class="header" href="https://eldred.fr/gb-asm-tutorial/part1/assembly.html#directives">Directives</a></h2>
<p>In a way, instructions are destined to the consoleâ€™s CPU, and comments are destined to the programmer.
But some lines are neither, and are instead sort of metadata destined to RGBDS itself.
Those are called <em>directives</em>, and our Hello World actually contains three of those.</p>
<h3 id="including-other-files"><a class="header" href="https://eldred.fr/gb-asm-tutorial/part1/assembly.html#including-other-files">Including other files</a></h3>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-rgbasm linenos hljs"><span class="line"><span class="hljs-keyword">INCLUDE</span> <span class="hljs-string">"hardware.inc"</span>
</span></code></pre>
<p>Line 1 <em>includes</em> <code class="hljs">hardware.inc</code><sup class="footnote-reference"><a href="https://eldred.fr/gb-asm-tutorial/part1/assembly.html#hw_inc_directives">3</a></sup>.
Including a file has the same effect as if you copy-pasted it, but without having to actually do that.</p>
<p>It allows sharing code across files easily: for example, if two files <code class="hljs">a.asm</code> and <code class="hljs">b.asm</code> were to include <code class="hljs">hardware.inc</code>, you would only need to modify <code class="hljs">hardware.inc</code> once for the modifications to apply to both <code class="hljs">a.asm</code> and <code class="hljs">b.asm</code>.
If you instead copy-pasted the contents manually, you would have to edit both copies in <code class="hljs">a.asm</code> and <code class="hljs">b.asm</code> to apply the changes, which is more tedious and error-prone.</p>
<p><code class="hljs">hardware.inc</code> defines a bunch of constants related to interfacing with the hardware.
Constants are basically names with a value attached, so when you write out their name, they are replaced with their value.
This is useful because, for example, it is easier to remember the address of the <strong>LCD</strong> <strong>C</strong>ontrol register as <code class="hljs">rLCDC</code> than <code class="hljs">$FF40</code>.</p>
<p>We will discuss constants in more detail in Part â…¡.</p>
<h3 id="sections"><a class="header" href="https://eldred.fr/gb-asm-tutorial/part1/assembly.html#sections">Sections</a></h3>
<p>Letâ€™s first explain what a â€œsectionâ€ is, then we will see what line 3 does.</p>
<p>A section represents a contiguous range of memory, and by default, ends up <em>somewhere</em> not known in advance.
If you want to see where all the sections end up, you can ask RGBLINK to generate a â€œmap fileâ€ with the <code class="hljs">-m</code> flag:</p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="hljs"><span class="console-line hljs-meta"></span><span class="language-bash">rgblink hello-world.o -m hello-world.map</span>
</code></pre>
<p>â€¦and we can see, for example, where the <code class="hljs">"Tilemap"</code> section ended up:</p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="hljs">  SECTION: $05a6-$07e5 ($0240 bytes) ["Tilemap"]
</code></pre>
<p>Sections cannot be split by RGBDS, which is useful e.g. for code, since the processor executes instructions one right after the other (except jumps, as we will see later).
There is a balance to be struck between too many and not enough sections, but it typically doesnâ€™t matter much until banking is introduced into the pictureâ€”and it wonâ€™t be until much, much later.</p>
<p>So, for now, letâ€™s just assume that one section should contain things that â€œgo togetherâ€ topically, and letâ€™s examine one of ours.</p>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-rgbasm linenos start=3 hljs" style="counter-reset: lineno 2;"><span class="line"><span class="hljs-keyword">SECTION</span> <span class="hljs-string">"Header"</span><span class="hljs-punctuation">,</span> <span class="hljs-type">ROM0</span><span class="hljs-punctuation">[</span><span class="hljs-number">$100</span><span class="hljs-punctuation">]</span>
</span></code></pre>
<p>So!
Whatâ€™s happening here?
Well, we are simply declaring a new section; all instructions and data after this line and until the next <code class="hljs">SECTION</code> one will be placed in this newly-created section.
Before the first <code class="hljs">SECTION</code> directive, there is no â€œactiveâ€ section, and thus generating code or data will be met with a <code class="hljs">Cannot output data outside of a SECTION</code> error.</p>
<p>The new sectionâ€™s name is â€œ<code class="hljs">Header</code>â€.
Section names can contain any characters (and even be empty, if you want), and must be unique<sup class="footnote-reference"><a href="https://eldred.fr/gb-asm-tutorial/part1/assembly.html#sect_name">4</a></sup>.
The <code class="hljs">ROM0</code> keyword indicates which â€œmemory typeâ€ the section belongs to (<a href="https://rgbds.gbdev.io/docs/v0.5.2/rgbasm.5#SECTIONS" target="_blank">here is a list</a>).
We will discuss them in Part â…¡.</p>
<p>The <code class="hljs">[$100]</code> part is more interesting, in that it is unique to this section.
See, I said above that:</p>
<blockquote>
<p>a section [â€¦] by default, ends up <em>somewhere</em> not known in advance.</p>
</blockquote>
<p>However, some memory locations are special, and so sometimes we need a specific section to span a specific range of memory.
To enable this, RGBASM provides the <code class="hljs">[addr]</code> syntax, which <em>forces</em> the sectionâ€™s starting address to be <code class="hljs">addr</code>.</p>
<p>In this case, the memory range $100â€“$14F is special, as it is the <em>ROMâ€™s header</em>.
We will discuss the header in a couple lessons, but for now, just know that we need not to put any of our code or data in that space.
How do we do that?
Well, first, we begin a section at address $100, and then we need to reserve some space.</p>
<h3 id="reserving-space"><a class="header" href="https://eldred.fr/gb-asm-tutorial/part1/assembly.html#reserving-space">Reserving space</a></h3>
<pre><div class="buttons"><button class="fa fa-copy clip-button" title="Copy to clipboard" aria-label="Copy to clipboard"><i class="tooltiptext"></i></button></div><code class="language-rgbasm linenos start=5 hljs" style="counter-reset: lineno 4;"><span class="line">    <span class="hljs-keyword">jp</span> EntryPoint
</span><span class="line">
</span><span class="line">    <span class="hljs-keyword">ds</span> <span class="hljs-number">$150</span> <span class="hljs-operator">-</span> @<span class="hljs-punctuation">,</span> <span class="hljs-number">0</span> <span class="hljs-comment">; Make room for the header</span>
</span></code></pre>
<p>Line 7 claims to â€œMake room for the headerâ€, which I briefly mentioned just above.
For now, letâ€™s focus on what <code class="hljs">ds</code> actually does.</p>
<p><code class="hljs">ds</code> is used for <em>statically</em> allocating memory.
It simply reserves some amount of bytes, which are set to a given value.
The first argument to <code class="hljs">ds</code>, here <code class="hljs">$150 - @</code>, is <em>how many bytes to reserve</em>.
The second (optional) argument, here <code class="hljs">0</code>, is <em>what value to set each reserved byte to</em><sup class="footnote-reference"><a href="https://eldred.fr/gb-asm-tutorial/part1/assembly.html#ds_pattern">5</a></sup>.</p>
<p>We will see why these bytes must be reserved in a couple of lessons.</p>
<p>It is worth mentioning that this first argument here is an <em>expression</em>.
RGBDS (thankfully!) supports arbitrary expressions essentially anywhere.
This expression is a simple subtraction: $150 minus <code class="hljs">@</code>, which is a special symbol that stands for â€œthe current memory addressâ€.</p>
<div class="box tip">
<p>A symbol is essentially â€œa name attached to a valueâ€, usually a number.
We will explore the different types of symbols throughout the tutorial, starting with labels in the next section.</p>
<p>A numerical symbol used in an expression evaluates to its value, which must be known when compiling the ROMâ€”in particular, it canâ€™t depend on any registerâ€™s contents.</p>
</div>
<p>Oh, but you may be wondering what the â€œmemory addressesâ€ I keep mentioning are.
Letâ€™s see about those!</p>
<hr>
<div class="footnote-definition" id="instr_directive"><sup class="footnote-definition-label">1</sup>
<p>Technically, instructions in RGBASM are implemented as directives, basically writing their encoded form to the ROM; but the distinction between the instructions in the source code and those in the final ROM is not worth bringing up right now.</p>
</div>
<div class="footnote-definition" id="ld_imm_from"><sup class="footnote-definition-label">2</sup>
<p>The curious reader may ask where the value is copied <em>from</em>. The answer is simply that the "immediate" byte ($00 in this example) is stored in ROM just after the instructionâ€™s opcode byte, and itâ€™s what gets copied to <code class="hljs">a</code>.
We will come back to this when we talk about how instructions are encoded later on.</p>
</div>
<div class="footnote-definition" id="hw_inc_directives"><sup class="footnote-definition-label">3</sup>
<p><code class="hljs">hardware.inc</code> itself contains more directives, in particular to define a lot of symbols.
They will be touched upon much later, so we wonâ€™t look into <code class="hljs">hardware.inc</code> yet.</p>
</div>
<div class="footnote-definition" id="sect_name"><sup class="footnote-definition-label">4</sup>
<p>Section names actually only need to be unique for â€œplainâ€ sections, and function differently with â€œunionizedâ€ and â€œfragmentâ€ sections, which we will discuss much later.</p>
</div>
<div class="footnote-definition" id="ds_pattern"><sup class="footnote-definition-label">5</sup>
<p>Actually, since RGBASM 0.5.0, <code class="hljs">ds</code> can accept a <em>list</em> of bytes, and will repeat the pattern for as many bytes as specified.
It just complicates the explanation slightly, so I omitted it for now.
Also, if the argument is omitted, it defaults to what is specified using the <code class="hljs">-p</code> option <strong>to RGBASM</strong>.</p>
</div>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="https://eldred.fr/gb-asm-tutorial/part1/registers.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="https://eldred.fr/gb-asm-tutorial/part1/memory.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="https://eldred.fr/gb-asm-tutorial/part1/registers.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="https://eldred.fr/gb-asm-tutorial/part1/memory.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script type="text/javascript">
            window.playground_copyable = true;
        </script>


        <script src="./asm_files/elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="./asm_files/mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="./asm_files/searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="./asm_files/clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="./asm_files/highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="./asm_files/book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="./asm_files/linenos.js"></script>


    

<img id="sddsExtensionInfoImg" style="display: none; position: absolute; top: 0px; left: 0px; width: 32px; height: 32px; z-index: 2147483647;"><img id="sddsExtensionArrowImg" style="display: none; position: absolute; top: 0px; left: 0px; width: 32px; height: 32px; z-index: 2147483647;"></body></html>